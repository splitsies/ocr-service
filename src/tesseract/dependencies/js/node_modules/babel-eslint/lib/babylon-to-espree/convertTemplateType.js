module.exports=function(tokens,tt){let curlyBrace=null,templateTokens=[];const result=[];function addTemplateType(){const start=templateTokens[0],end=templateTokens[templateTokens.length-1],value=templateTokens.reduce(((result,token)=>(token.value?result+=token.value:token.type!==tt.template&&(result+=token.type.label),result)),"");result.push({type:"Template",value:value,start:start.start,end:end.end,loc:{start:start.loc.start,end:end.loc.end}}),templateTokens=[]}return tokens.forEach((token=>{switch(token.type){case tt.backQuote:curlyBrace&&(result.push(curlyBrace),curlyBrace=null),templateTokens.push(token),templateTokens.length>1&&addTemplateType();break;case tt.dollarBraceL:templateTokens.push(token),addTemplateType();break;case tt.braceR:curlyBrace&&result.push(curlyBrace),curlyBrace=token;break;case tt.template:curlyBrace&&(templateTokens.push(curlyBrace),curlyBrace=null),templateTokens.push(token);break;case tt.eof:curlyBrace&&result.push(curlyBrace);break;default:curlyBrace&&(result.push(curlyBrace),curlyBrace=null),result.push(token)}})),result};