Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=merge,exports.normalizeReplacements=normalizeReplacements,exports.validate=validate;const _excluded=["placeholderWhitelist","placeholderPattern","preserveComments","syntacticPlaceholders"];function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function merge(a,b){const{placeholderWhitelist:placeholderWhitelist=a.placeholderWhitelist,placeholderPattern:placeholderPattern=a.placeholderPattern,preserveComments:preserveComments=a.preserveComments,syntacticPlaceholders:syntacticPlaceholders=a.syntacticPlaceholders}=b;return{parser:Object.assign({},a.parser,b.parser),placeholderWhitelist:placeholderWhitelist,placeholderPattern:placeholderPattern,preserveComments:preserveComments,syntacticPlaceholders:syntacticPlaceholders}}function validate(opts){if(null!=opts&&"object"!=typeof opts)throw new Error("Unknown template options.");const _ref=opts||{},{placeholderWhitelist:placeholderWhitelist,placeholderPattern:placeholderPattern,preserveComments:preserveComments,syntacticPlaceholders:syntacticPlaceholders}=_ref,parser=_objectWithoutPropertiesLoose(_ref,_excluded);if(null!=placeholderWhitelist&&!(placeholderWhitelist instanceof Set))throw new Error("'.placeholderWhitelist' must be a Set, null, or undefined");if(null!=placeholderPattern&&!(placeholderPattern instanceof RegExp)&&!1!==placeholderPattern)throw new Error("'.placeholderPattern' must be a RegExp, false, null, or undefined");if(null!=preserveComments&&"boolean"!=typeof preserveComments)throw new Error("'.preserveComments' must be a boolean, null, or undefined");if(null!=syntacticPlaceholders&&"boolean"!=typeof syntacticPlaceholders)throw new Error("'.syntacticPlaceholders' must be a boolean, null, or undefined");if(!0===syntacticPlaceholders&&(null!=placeholderWhitelist||null!=placeholderPattern))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");return{parser:parser,placeholderWhitelist:placeholderWhitelist||void 0,placeholderPattern:null==placeholderPattern?void 0:placeholderPattern,preserveComments:null==preserveComments?void 0:preserveComments,syntacticPlaceholders:null==syntacticPlaceholders?void 0:syntacticPlaceholders}}function normalizeReplacements(replacements){if(Array.isArray(replacements))return replacements.reduce(((acc,replacement,i)=>(acc["$"+i]=replacement,acc)),{});if("object"==typeof replacements||null==replacements)return replacements||void 0;throw new Error("Template replacements must be an array, object, null, or undefined")}