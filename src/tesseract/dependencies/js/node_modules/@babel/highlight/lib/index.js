Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=highlight,exports.getChalk=getChalk,exports.shouldHighlight=shouldHighlight;var _jsTokens=require("js-tokens"),_helperValidatorIdentifier=require("@babel/helper-validator-identifier"),_chalk=require("chalk");const sometimesKeywords=new Set(["as","async","from","get","of","set"]);function getDefs(chalk){return{keyword:chalk.cyan,capitalized:chalk.yellow,jsxIdentifier:chalk.yellow,punctuator:chalk.yellow,number:chalk.magenta,string:chalk.green,regex:chalk.magenta,comment:chalk.grey,invalid:chalk.white.bgRed.bold}}const NEWLINE=/\r\n|[\n\r\u2028\u2029]/,BRACKET=/^[()[\]{}]$/;let tokenize;{const JSX_TAG=/^[a-z][\w-]*$/i,getTokenType=function(token,offset,text){if("name"===token.type){if((0,_helperValidatorIdentifier.isKeyword)(token.value)||(0,_helperValidatorIdentifier.isStrictReservedWord)(token.value,!0)||sometimesKeywords.has(token.value))return"keyword";if(JSX_TAG.test(token.value)&&("<"===text[offset-1]||"</"==text.slice(offset-2,offset)))return"jsxIdentifier";if(token.value[0]!==token.value[0].toLowerCase())return"capitalized"}return"punctuator"===token.type&&BRACKET.test(token.value)?"bracket":"invalid"!==token.type||"@"!==token.value&&"#"!==token.value?token.type:"punctuator"};tokenize=function*(text){let match;for(;match=_jsTokens.default.exec(text);){const token=_jsTokens.matchToToken(match);yield{type:getTokenType(token,match.index,text),value:token.value}}}}function highlightTokens(defs,text){let highlighted="";for(const{type:type,value:value}of tokenize(text)){const colorize=defs[type];highlighted+=colorize?value.split(NEWLINE).map((str=>colorize(str))).join("\n"):value}return highlighted}function shouldHighlight(options){return!!_chalk.supportsColor||options.forceColor}function getChalk(options){return options.forceColor?new _chalk.constructor({enabled:!0,level:1}):_chalk}function highlight(code,options={}){if(""!==code&&shouldHighlight(options)){return highlightTokens(getDefs(getChalk(options)),code)}return code}