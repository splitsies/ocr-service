Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class Binding{constructor({identifier:identifier,scope:scope,path:path,kind:kind}){this.identifier=void 0,this.scope=void 0,this.path=void 0,this.kind=void 0,this.constantViolations=[],this.constant=!0,this.referencePaths=[],this.referenced=!1,this.references=0,this.identifier=identifier,this.scope=scope,this.path=path,this.kind=kind,"var"!==kind&&"hoisted"!==kind||!isDeclaredInLoop(path||(()=>{throw new Error("Internal Babel error: unreachable ")})())||this.reassign(path),this.clearValue()}deoptValue(){this.clearValue(),this.hasDeoptedValue=!0}setValue(value){this.hasDeoptedValue||(this.hasValue=!0,this.value=value)}clearValue(){this.hasDeoptedValue=!1,this.hasValue=!1,this.value=null}reassign(path){this.constant=!1,-1===this.constantViolations.indexOf(path)&&this.constantViolations.push(path)}reference(path){-1===this.referencePaths.indexOf(path)&&(this.referenced=!0,this.references++,this.referencePaths.push(path))}dereference(){this.references--,this.referenced=!!this.references}}function isDeclaredInLoop(path){for(let{parentPath:parentPath,key:key}=path;parentPath;({parentPath:parentPath,key:key}=parentPath)){if(parentPath.isFunctionParent())return!1;if(parentPath.isWhile()||parentPath.isForXStatement()||parentPath.isForStatement()&&"body"===key)return!0}return!1}exports.default=Binding;