Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=traverse;var _definitions=require("../definitions");function traverse(node,handlers,state){"function"==typeof handlers&&(handlers={enter:handlers});const{enter:enter,exit:exit}=handlers;traverseSimpleImpl(node,enter,exit,state,[])}function traverseSimpleImpl(node,enter,exit,state,ancestors){const keys=_definitions.VISITOR_KEYS[node.type];if(keys){enter&&enter(node,ancestors,state);for(const key of keys){const subNode=node[key];if(Array.isArray(subNode))for(let i=0;i<subNode.length;i++){const child=subNode[i];child&&(ancestors.push({node:node,key:key,index:i}),traverseSimpleImpl(child,enter,exit,state,ancestors),ancestors.pop())}else subNode&&(ancestors.push({node:node,key:key}),traverseSimpleImpl(subNode,enter,exit,state,ancestors),ancestors.pop())}exit&&exit(node,ancestors,state)}}