const conversions=require("webidl-conversions"),utils=require("./utils.js"),Impl=require(".//URL-impl.js"),impl=utils.implSymbol;function URL(url){if(!this||this[impl]||!(this instanceof URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");const args=[];for(let i=0;i<arguments.length&&i<2;++i)args[i]=arguments[i];args[0]=conversions.USVString(args[0]),void 0!==args[1]&&(args[1]=conversions.USVString(args[1])),module.exports.setup(this,args)}URL.prototype.toJSON=function(){if(!this||!module.exports.is(this))throw new TypeError("Illegal invocation");const args=[];for(let i=0;i<arguments.length&&i<0;++i)args[i]=arguments[i];return this[impl].toJSON.apply(this[impl],args)},Object.defineProperty(URL.prototype,"href",{get(){return this[impl].href},set(V){V=conversions.USVString(V),this[impl].href=V},enumerable:!0,configurable:!0}),URL.prototype.toString=function(){if(!this||!module.exports.is(this))throw new TypeError("Illegal invocation");return this.href},Object.defineProperty(URL.prototype,"origin",{get(){return this[impl].origin},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"protocol",{get(){return this[impl].protocol},set(V){V=conversions.USVString(V),this[impl].protocol=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"username",{get(){return this[impl].username},set(V){V=conversions.USVString(V),this[impl].username=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"password",{get(){return this[impl].password},set(V){V=conversions.USVString(V),this[impl].password=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"host",{get(){return this[impl].host},set(V){V=conversions.USVString(V),this[impl].host=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"hostname",{get(){return this[impl].hostname},set(V){V=conversions.USVString(V),this[impl].hostname=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"port",{get(){return this[impl].port},set(V){V=conversions.USVString(V),this[impl].port=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"pathname",{get(){return this[impl].pathname},set(V){V=conversions.USVString(V),this[impl].pathname=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"search",{get(){return this[impl].search},set(V){V=conversions.USVString(V),this[impl].search=V},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"hash",{get(){return this[impl].hash},set(V){V=conversions.USVString(V),this[impl].hash=V},enumerable:!0,configurable:!0}),module.exports={is:obj=>!!obj&&obj[impl]instanceof Impl.implementation,create(constructorArgs,privateData){let obj=Object.create(URL.prototype);return this.setup(obj,constructorArgs,privateData),obj},setup(obj,constructorArgs,privateData){privateData||(privateData={}),privateData.wrapper=obj,obj[impl]=new Impl.implementation(constructorArgs,privateData),obj[impl][utils.wrapperSymbol]=obj},interface:URL,expose:{Window:{URL:URL},Worker:{URL:URL}}};