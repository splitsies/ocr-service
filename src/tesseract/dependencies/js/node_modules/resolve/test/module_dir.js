var path=require("path"),test=require("tape"),resolve=require("../");test("moduleDirectory strings",(function(t){t.plan(4);var dir=path.join(__dirname,"module_dir");resolve("aaa",{basedir:dir,moduleDirectory:"xmodules"},(function(err,res,pkg){t.ifError(err),t.equal(res,path.join(dir,"/xmodules/aaa/index.js"))})),resolve("aaa",{basedir:dir,moduleDirectory:"ymodules"},(function(err,res,pkg){t.ifError(err),t.equal(res,path.join(dir,"/ymodules/aaa/index.js"))}))})),test("moduleDirectory array",(function(t){t.plan(6);var dir=path.join(__dirname,"module_dir");resolve("aaa",{basedir:dir,moduleDirectory:["xmodules","ymodules","zmodules"]},(function(err,res,pkg){t.ifError(err),t.equal(res,path.join(dir,"/xmodules/aaa/index.js"))})),resolve("aaa",{basedir:dir,moduleDirectory:["zmodules","ymodules","xmodules"]},(function(err,res,pkg){t.ifError(err),t.equal(res,path.join(dir,"/ymodules/aaa/index.js"))})),resolve("bbb",{basedir:dir,moduleDirectory:["xmodules","ymodules","zmodules"]},(function(err,res,pkg){t.ifError(err),t.equal(res,path.join(dir,"/zmodules/bbb/main.js"))}))}));